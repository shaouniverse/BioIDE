-- MySQL Script generated by MySQL Workbench
-- Mon Mar 12 14:43:32 2018
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema biodata
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema biodata
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `biodata` DEFAULT CHARACTER SET utf8 ;
USE `biodata` ;

-- -----------------------------------------------------
-- Table `biodata`.`team`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`team` (
  `id` VARCHAR(50) NOT NULL COMMENT 'UUID',
  `name` VARCHAR(100) NULL COMMENT '团队名称',
  `leader` VARCHAR(50) NOT NULL COMMENT '团队负责人（有添加和移除团队成员的权限）',
  `note` text COMMENT '备注说明',
  `adddate` DATETIME NULL COMMENT '添加时间',
  PRIMARY KEY (`id`))
ENGINE=InnoDB DEFAULT CHARSET=utf8;


-- -----------------------------------------------------
-- Table `biodata`.`dataset`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`dataset` (
  `id` VARCHAR(50) NOT NULL,
  `dsname` VARCHAR(50) NULL COMMENT '数据集名称',
  `dsabstract` VARCHAR(1000) NULL COMMENT '数据集简介',
  `lisenceid` VARCHAR(50) NULL COMMENT '共享协议id，外联共享协议表',
  `createdDate` DATE NULL COMMENT '添加日期',
  `creator` VARCHAR(50) NULL COMMENT '创建人',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `mark` varchar(255) DEFAULT NULL, -- 新增
  `teamid` VARCHAR(50) NOT NULL COMMENT '所属团队的ID', -- 修改(俩teamid)
  `userid` VARCHAR(50) NOT NULL COMMENT '所属用户的ID', -- 新增
  PRIMARY KEY (`id`),
  INDEX `fk_dataset_team1_idx` (`teamid` ASC),
  CONSTRAINT `fk_dataset_team1`
    FOREIGN KEY (`teamid`)
    REFERENCES `biodata`.`team` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_dataset_user1`
    FOREIGN KEY (`userid`)
    REFERENCES `biodata`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
    )
ENGINE = InnoDB
COMMENT = '数据集';


-- -----------------------------------------------------
-- Table `biodata`.`taxaset`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`taxaset` (
  `id` VARCHAR(50) NOT NULL,
  `tsname` VARCHAR(50) NULL COMMENT 'taxaset 名称',
  `tsinfo` VARCHAR(500) NULL COMMENT 'taxaset 简介',
  `refsjson` JSON NULL COMMENT '相关文献',
  `sourcejson` JSON NULL COMMENT '相关数据源',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `dataset_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_taxaset_dataset1_idx` (`dataset_id` ASC),
  CONSTRAINT `fk_taxaset_dataset1`
    FOREIGN KEY (`dataset_id`)
    REFERENCES `biodata`.`dataset` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biodata`.`rank`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`rank` (
  `id` INT NOT NULL,
  `chname` VARCHAR(100) NULL COMMENT '等级的中文名',
  `enname` VARCHAR(100) NOT NULL COMMENT '等级的拉丁？英文名？',
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biodata`.`taxon`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`taxon` (
  `id` VARCHAR(50) NOT NULL COMMENT '记录id',
  `scientificname` VARCHAR(80) NOT NULL COMMENT '学名:正式接受的拉丁名 ,不包括命名人和命名年代',
  `authorstr` VARCHAR(80) NULL COMMENT '命名人和命名年代',
  `epithet` VARCHAR(45) NULL COMMENT '种加词 或 亚种加词',
  `rankid` INT NULL COMMENT '等级，如界、门、纲、目等，关联到另外一张表中',
  `nomencode` VARCHAR(50) NULL COMMENT 'Nomenclatural Code 命名法规: ICZN、ICBN...',
  `remark` VARCHAR(1000) NULL COMMENT '备注',
  `sourcesid` VARCHAR(50) NULL COMMENT '数据源的id',
  `tci` VARCHAR(100) NULL COMMENT 'taxon concept identifier\ntaxon 概念标识，',
  `refjson` JSON NULL,
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '录入人',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `taxaset_id` VARCHAR(50) NOT NULL,
  `rank_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_taxon_taxaset1_idx` (`taxaset_id` ASC),
  INDEX `fk_taxon_rank1_idx` (`rank_id` ASC),
  CONSTRAINT `fk_taxon_taxaset1`
    FOREIGN KEY (`taxaset_id`)
    REFERENCES `biodata`.`taxaset` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_taxon_rank1`
    FOREIGN KEY (`rank_id`)
    REFERENCES `biodata`.`rank` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '分类单元表';


-- -----------------------------------------------------
-- Table `biodata`.`specimendata`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`specimendata` (
  `id` VARCHAR(50) NOT NULL,
  `collector` VARCHAR(50) NULL COMMENT '采集人',
  `collectdate` VARCHAR(50) NULL COMMENT '采集时间',
  `location` VARCHAR(200) NULL COMMENT '采集地',
  `country` VARCHAR(200) NULL COMMENT '国家',
  `province` VARCHAR(200) NULL COMMENT '省',
  `city` VARCHAR(200) NULL COMMENT '市',
  `county` VARCHAR(200) NULL COMMENT '县',
  `locality` VARCHAR(200) NULL COMMENT '小地点',
  `lng` DOUBLE NULL COMMENT '经度',
  `lat` DOUBLE NULL COMMENT '纬度',
  `idenby` VARCHAR(50) NULL COMMENT '鉴定人',
  `idendate` VARCHAR(20) NULL COMMENT '鉴定时间',
  `specimenno` VARCHAR(50) NULL COMMENT '标本号',
  `sex` VARCHAR(10) NULL COMMENT '性别',
  `storedin` VARCHAR(50) NULL COMMENT '馆藏地点',
  `specimentype` VARCHAR(50) NULL COMMENT '标本类型',
  `mediajson` JSON NULL COMMENT '相关多媒体信息（json）',
  `taxonid` VARCHAR(50) NULL,
  `refjson` JSON NULL COMMENT '相关参考文献的json数组',
  `sourcesid` VARCHAR(50) NULL COMMENT '数据源的id',
  `state` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `taxon_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_specimendata_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_specimendata_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '标本信息';


-- -----------------------------------------------------
-- Table `biodata`.`citation`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`citation` (
  `id` VARCHAR(50) NOT NULL,
  `sciname` VARCHAR(100) NULL,
  `authorship` VARCHAR(100) NULL,
  `nametype` INT NULL COMMENT '\'1\', \'accepted name\'\n\'2\', \'ambiguous synonym\'\n\'3\', \'misapplied name\'\n\'4\', \'provisionally accepted name\'\n\'5\', \'synonym\'\n\'6\', \'uncertain name\'',
  `citationstr` VARCHAR(500) NULL,
  `shortrefs` JSON NULL,
  `refjson` JSON NULL COMMENT '相关参考文献的json数组',
  `sourcesid` VARCHAR(50) NULL COMMENT '数据源的id',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `taxon_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_citation_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_citation_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '引证信息';


-- -----------------------------------------------------
-- Table `biodata`.`geogroup`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`geogroup` (
  `id` VARCHAR(50) NOT NULL,
  `remark` TEXT NULL,
  `name` VARCHAR(50) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = '地理实体划分标准集合';


-- -----------------------------------------------------
-- Table `biodata`.`geoobject`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`geoobject` (
  `id` VARCHAR(50) NOT NULL,
  `cngeoname` VARCHAR(100) NULL COMMENT '地理实体中文名',
  `engeoname` VARCHAR(100) NULL COMMENT '地理实体英文名',
  `geodata` JSON NULL COMMENT '实体数据',
  `pid` VARCHAR(50) NULL COMMENT '父ID，表示层次结构',
  `geotype` VARCHAR(50) NULL COMMENT '实体类型',
  `version` VARCHAR(50) NULL COMMENT '版本',
  `relation` JSON NULL COMMENT '关系：同义，包含等',
  `centerx` DOUBLE NULL,
  `centery` DOUBLE NULL,
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '录入人',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `geogroup_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_geoobject_geogroup1_idx` (`geogroup_id` ASC),
  CONSTRAINT `fk_geoobject_geogroup1`
    FOREIGN KEY (`geogroup_id`)
    REFERENCES `biodata`.`geogroup` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '描述地理实体，如省、市、县；保护区；河流；山峰等';


-- -----------------------------------------------------
-- Table `biodata`.`distributiondata`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`distributiondata` (
  `id` VARCHAR(50) NOT NULL,
  `taxonid` VARCHAR(50) NULL COMMENT '与taxon表关联',
  `lng` DOUBLE NULL COMMENT '经度',
  `lat` DOUBLE NULL COMMENT '纬度',
  `refjson` JSON NULL COMMENT '相关参考文献的json数组',
  `sourcesid` VARCHAR(50) NULL COMMENT '数据源的id',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `geoobject_id` VARCHAR(50) NOT NULL,
  `taxon_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_distributiondata_geoobject1_idx` (`geoobject_id` ASC),
  INDEX `fk_distributiondata_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_distributiondata_geoobject1`
    FOREIGN KEY (`geoobject_id`)
    REFERENCES `biodata`.`geoobject` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_distributiondata_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '分布信息';

CREATE TABLE IF NOT EXISTS `biodata`.`memberllog` (
  `id` varchar(50) NOT NULL,
  `teamid` varchar(50) DEFAULT NULL,
  `initiator` varchar(50) DEFAULT NULL COMMENT '发起者',
  `operator` varchar(50) DEFAULT NULL COMMENT '操作者',
  `starttime` datetime DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  `status` int(11) DEFAULT NULL,
  `endtime` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `biodata`.`message` (
  `id` varchar(50) NOT NULL,
  `sender` varchar(50) DEFAULT NULL,
  `addressee` varchar(50) DEFAULT NULL,
  `sendtime` datetime DEFAULT NULL,
  `title` varchar(100) DEFAULT NULL,
  `text` text,
  `status` int(11) DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  `mark` varchar(100) DEFAULT NULL,
  `teamid` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

insert  into `message`(`id`,`sender`,`addressee`,`sendtime`,`title`,`text`,`status`,`type`,`mark`,`teamid`) values ('0','0','0a','2017-09-11 10:09:17','aaa','aaaaaaa',1,'information',NULL,NULL),('045e221c-b021-4c8f-bbfd-00719247758d','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:16:09','BINZI','BINZI<p>&nbsp;</p><p>&nbsp;</p>',0,'information',NULL,NULL),('1','0a','0','2017-09-11 10:09:43','sss','ssssss',1,'information',NULL,NULL),('1249d345-33d0-4d0b-9613-23599b6fd18d','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:24:08','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('13656ce9-e87b-4367-bb2b-7292974d5ed2','0a','d074c7a1-7b7f-40f1-9dbf-5482a2790219','2017-10-18 11:31:14','ta5','<p>ta5ta5</p><p>&nbsp;</p>',1,'information',NULL,NULL),('14e4be74-9dc0-4883-8f1b-3b539dd90df9','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:02:28','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,NULL),('162b0e23-f78f-4e05-ab51-36ea1cb91ab6','0a','0','2017-10-10 16:57:43','test1','<p><strong>ttt</strong></p><p><i>ertert</i></p><p>ertertert</p><ul><li>errrrrrrrrrrrrrrrrrrrrrrrrrrrrr</li></ul>',0,'information',NULL,NULL),('1feb25e9-dfe7-43a5-87f5-60afdde796c4','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:18:06','BINZI','<p>BINZI</p>',0,'information',NULL,NULL),('21e6dc56-33d9-4357-bb5d-874b0ac3d667','0a','d074c7a1-7b7f-40f1-9dbf-5482a2790219','2017-10-11 14:28:08','asd','<p>dsa</p><p>&nbsp;</p>',1,'information',NULL,NULL),('27ed4b4e-7db0-4465-95ee-df0ad812d0b8','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 14:13:40','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('2a5f7ed0-2c35-4a11-beb6-0fb72ee17acb','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:26:26','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,NULL),('2ad39bc4-a682-4d81-ab72-b96f6eafa80b','c7c5ae4d-2354-403c-a3f3-1983a633f457',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('2b4a133d-b629-4d2e-bb40-4270320ca260','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:03:10','BINZI团队邀请函','<p>团队邀请</p>',0,'information',NULL,NULL),('31173e52-12bb-4fe9-9163-0c9516374690','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 16:31:11','BINZI','<p>BINZI....</p><p>&nbsp;</p>',0,'information',NULL,''),('439c8879-ffdb-47aa-8cd0-9cbb3dc99547','c7c5ae4d-2354-403c-a3f3-1983a633f457','13203755135@163.com','2018-03-16 16:27:06','BINZI','<p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('43f42f5c-0d6f-4a46-9cb5-844a6f023c80','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-19 15:39:09','BINZI邀请函','<p>&nbsp;</p><p>邀请函</p><p>&nbsp;</p>',0,'information',NULL,'9f7e755c-e026-4a7e-be59-3b4e661d726a'),('4441807f-d991-4801-9908-b2fd5d5f571b','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-15 17:11:17','BINZI','<p>a letter</p>',0,'information',NULL,NULL),('448e90eb-a434-49c5-8143-b7566ff2f78e','0a','d074c7a1-7b7f-40f1-9dbf-5482a2790219','2017-10-18 10:28:34','ta1','<p>ta1</p><p>&nbsp;</p>',1,'information',NULL,NULL),('4666166e-ea14-48ae-88e5-81d34d1f09ec','d074c7a1-7b7f-40f1-9dbf-5482a2790219','0','2017-10-11 10:20:24','678','<p>876</p><p>&nbsp;</p>',0,'information',NULL,NULL),('47f202f8-c166-469d-94da-3b781b868e8e','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:32:11','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('48af6102-d3f4-458d-971c-a11689015f39','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:07:24','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('50d011be-5308-4f12-935a-5b571478106e','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:04:49','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('57712bf7-c230-4186-92cd-35083cc6240a','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:32:03','BINZI','<p>BINZI</p><p>&nbsp;</p>',0,'information',NULL,NULL),('58d072ad-7ad9-4627-9445-7b184bd8698e','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-19 15:35:42','BINZI邀请函','<p>&nbsp;</p><p>邀请DAHUI</p>',0,'information',NULL,'9f7e755c-e026-4a7e-be59-3b4e661d726a'),('60399669-d49d-428c-9b2e-710a348c3a1f','0a','d074c7a1-7b7f-40f1-9dbf-5482a2790219','2017-10-11 22:38:38','sad','<p>&nbsp;</p><p>asdsad</p>',1,'information',NULL,NULL),('608ad77f-c7fb-43d3-94bd-4c9c51868af3','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:20:44','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('6be0dda3-718c-42fa-867c-e667711f32f5','d074c7a1-7b7f-40f1-9dbf-5482a2790219','0a','2017-10-11 14:23:26','333','<p>&nbsp;</p><p>123</p>',1,'information',NULL,NULL),('6c0a8b02-eb60-49bf-8baf-e143de8463d3','0a','d074c7a1-7b7f-40f1-9dbf-5482a2790219','2017-10-18 10:29:37','ta3','<p>&nbsp;</p><p>ta3</p>',1,'information',NULL,NULL),('6c8320bb-3d89-42b8-ac76-5abcc0b49d22','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-15 17:13:17','BINZI','BINZI<p>&nbsp;</p>',0,'information',NULL,NULL),('763a4beb-c70a-4003-a1a7-97db17094a5e','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:25:46','BINZI','<p>BINZIBINZI</p><p>&nbsp;</p>',0,'information',NULL,''),('8e90cdf8-cc26-4e65-bd6f-2123dbd0ba69','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-19 09:33:53','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('918815ac-d92b-4cd0-a880-5d9fad989e26','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:56:15','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,NULL),('950cb7c9-7b0f-4958-8d74-80a3a389c075','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:26:29','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,''),('9aa38741-c48e-4f7a-a2fb-8e6d1d11b681','d074c7a1-7b7f-40f1-9dbf-5482a2790219','d074c7a1-7b7f-40f1-9dbf-5482a2790219','2017-10-11 14:23:39','aaa','<p>&nbsp;</p><p>aaa</p>',1,'information',NULL,NULL),('9f7e755c-e026-4a7e-be59-3b4e661d726a','c7c5ae4d-2354-403c-a3f3-1983a633f457',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'9f7e755c-e026-4a7e-be59-3b4e661d726a'),('b109ec98-8b05-4644-ab44-e3bc68ca4b0b','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:10:18','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('c1a93156-c609-4a98-bfd4-b556066abaa4','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-19 11:05:56','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,'2ad39bc4-a682-4d81-ab72-b96f6eafa80b'),('cb21e767-5afa-4bbc-919d-dffb84e9575e','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:44:42','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,NULL),('cf9a1eef-b6d4-4f44-ae46-43aa8079adcb','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:46:14','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,NULL),('d386ec6d-fadc-46d8-abaa-3d000e0353d5','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:11:23','BINZI邀请函','<p>&nbsp;</p><p>邀请DAHUI</p>',0,'information',NULL,NULL),('d9d55b70-27fb-45bd-93a9-dc3344ab584e','0a','0','2017-10-11 10:50:09','345','<p>&nbsp;</p><p>543</p>',0,'information',NULL,NULL),('e3f5ed2d-74e0-4849-93e6-09146a56ea25','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 11:23:02','BINZI','<p>BINZI</p><p>&nbsp;</p><p>&nbsp;</p>',0,'information',NULL,''),('e9c35f0f-6ff7-439c-b548-13b8d4e45c03','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:21:33','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,NULL),('ed1a516e-29f4-484a-8fdc-6ce70d4522ea','0a','d074c7a1-7b7f-40f1-9dbf-5482a2790219','2017-10-18 10:29:27','ta2','<p>ta2</p><p>&nbsp;</p>',1,'information',NULL,NULL),('f3a3cab0-d95e-4fea-afc3-7bce47d122e3','c7c5ae4d-2354-403c-a3f3-1983a633f457','13126863899@163.com','2018-03-16 10:59:29','BINZI','<p>&nbsp;</p><p>BINZI</p>',0,'information',NULL,NULL);


-- -----------------------------------------------------
-- Table `biodata`.`molecular`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`molecular` (
  `id` VARCHAR(50) NOT NULL COMMENT 'UUID',
  `spe_id` VARCHAR(50) NULL COMMENT 'specimendata的id',
  `authorname` VARCHAR(500) NULL COMMENT '数据的作者',
  `authorinstitution` VARCHAR(500) NULL COMMENT '数据的所属机构',
  `fastaurl` VARCHAR(500) NULL COMMENT 'FASTA文件存储的路径',
  `title` VARCHAR(800) NULL COMMENT '对分子数据的描述',
  `sequence` LONGTEXT NULL COMMENT '序列内容',
  `type` VARCHAR(500) NULL COMMENT '序列的种类',
  `location` VARCHAR(500) NULL COMMENT '序列取样的来源(细胞核、线粒体...)',
  `spe_location` VARCHAR(200) NULL COMMENT '物种个体的采集地',
  `country` VARCHAR(200) NULL COMMENT '国家',
  `province` VARCHAR(200) NULL COMMENT '省',
  `city` VARCHAR(200) NULL COMMENT '市',
  `county` VARCHAR(200) NULL,
  `locality` VARCHAR(200) NULL COMMENT '小地点',
  `lng` DOUBLE NULL COMMENT '经度',
  `lat` DOUBLE NULL COMMENT '纬度',
  `otherinfo` JSON NULL,
  `sourcesjson` JSON NULL COMMENT '相关数据来源集的json数组',
  `ncbiid` VARCHAR(50) NULL COMMENT 'NCBI的ID',
  `refjson` JSON NULL COMMENT '相关参考文献的json数组',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `taxon_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_molecular_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_molecular_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '分子数据';


-- -----------------------------------------------------
-- Table `biodata`.`license`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`license` (
  `id` VARCHAR(50) NOT NULL COMMENT 'uuid',
  `title` VARCHAR(200) NULL COMMENT '标题',
  `text` LONGTEXT NULL COMMENT '内容',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '录入人',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biodata`.`multimedia`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`multimedia` (
  `id` VARCHAR(50) NOT NULL,
  `title` VARCHAR(30) NULL COMMENT '多媒体信息标题',
  `info` VARCHAR(100) NULL COMMENT '简介',
  `rightsholder` VARCHAR(60) NULL COMMENT '版权人',
  `sourcetext` VARCHAR(60) NULL COMMENT '来源',
  `lisenceid` VARCHAR(50) NULL COMMENT '共享协议',
  `path` VARCHAR(60) NULL COMMENT '存储路径',
  `desid` VARCHAR(50) NULL COMMENT '描述的ID，及该记录来源于哪个描述，可以为空',
  `dis_id` VARCHAR(50) NULL COMMENT 'distributiondata的id',
  `location` VARCHAR(200) NULL COMMENT '拍摄地点',
  `country` VARCHAR(200) NULL COMMENT '国家',
  `province` VARCHAR(200) NULL COMMENT '省',
  `city` VARCHAR(200) NULL COMMENT '市',
  `county` VARCHAR(200) NULL COMMENT '县',
  `locality` VARCHAR(200) NULL COMMENT '小地点',
  `lng` DOUBLE NULL COMMENT '经度',
  `lat` DOUBLE NULL COMMENT '纬度',
  `refjson` JSON NULL COMMENT '相关参考文献的json数组',
  `sourcesid` VARCHAR(50) NULL COMMENT '数据源的id',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `taxon_id` VARCHAR(50) NOT NULL,
  `license_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_multimedia_taxon1_idx` (`taxon_id` ASC),
  INDEX `fk_multimedia_license1_idx` (`license_id` ASC),
  CONSTRAINT `fk_multimedia_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_multimedia_license1`
    FOREIGN KEY (`license_id`)
    REFERENCES `biodata`.`license` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '多媒体信息';


-- -----------------------------------------------------
-- Table `biodata`.`traitdata`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`traitdata` (
  `id` VARCHAR(50) NOT NULL,
  `taxonid` VARCHAR(50) NULL COMMENT '对应的分类单元id，与taxon表关联',
  `trainsetid` VARCHAR(50) NULL COMMENT '所使用的术语集id',
  `traitjson` JSON NULL COMMENT 'json表示的生物特征',
  `desid` VARCHAR(50) NULL COMMENT '提取特征的相关原始描述文本，与description表关联',
  `refjson` JSON NULL COMMENT '相关参考文献的json数组',
  `sourcesjson` JSON NULL COMMENT '相关数据来源集的json数组',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `taxon_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_traitdata_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_traitdata_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '特征';


-- -----------------------------------------------------
-- Table `biodata`.`descriptiontype`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`descriptiontype` (
  `id` VARCHAR(50) NOT NULL,
  `name` VARCHAR(50) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = '描述类型';


-- -----------------------------------------------------
-- Table `biodata`.`description`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`description` (
  `id` VARCHAR(50) NOT NULL COMMENT 'UUID',
  `describer` VARCHAR(50) NULL COMMENT '描述人',
  `desdate` VARCHAR(50) NULL COMMENT '描述时间，一般为年份',
  `destitle` VARCHAR(100) NULL COMMENT '描述标题',
  `descontent` LONGTEXT NULL COMMENT '描述内容',
  `destypeid` VARCHAR(50) NULL COMMENT '描述类型ID, 外联类型表',
  `rightsholder` VARCHAR(100) NULL COMMENT '权利所有人',
  `licenseid` VARCHAR(50) NULL COMMENT '共享协议id，外联共享协议表',
  `remark` VARCHAR(500) NULL COMMENT '备注',
  `language` VARCHAR(50) NULL COMMENT '语言',
  `relation` JSON NULL COMMENT '关系，如谁是谁的翻译',
  `sourcesid` VARCHAR(50) NULL COMMENT '数据源的id',
  `refjson` JSON NULL COMMENT '相关参考文献的json数组',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '添加时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `descriptiontype_id` VARCHAR(50) NOT NULL,
  `taxon_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_description_descriptiontype1_idx` (`descriptiontype_id` ASC),
  INDEX `fk_description_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_description_descriptiontype1`
    FOREIGN KEY (`descriptiontype_id`)
    REFERENCES `biodata`.`descriptiontype` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_description_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '描述信息';


-- -----------------------------------------------------
-- Table `biodata`.`taxkey`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`taxkey` (
  `id` VARCHAR(50) NOT NULL,
  `keytitle` VARCHAR(100) NULL COMMENT '检索表名',
  `abstraction` TEXT NULL COMMENT '摘要',
  `taxon_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_taxkey_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_taxkey_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '检索表元数据';


-- -----------------------------------------------------
-- Table `biodata`.`phytree`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`phytree` (
  `id` VARCHAR(50) NOT NULL,
  `name` VARCHAR(45) NULL,
  `dataset_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_phytree_dataset1_idx` (`dataset_id` ASC),
  CONSTRAINT `fk_phytree_dataset1`
    FOREIGN KEY (`dataset_id`)
    REFERENCES `biodata`.`dataset` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '进化树';


-- -----------------------------------------------------
-- Table `biodata`.`taxaction`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`taxaction` (
  `id` VARCHAR(50) NOT NULL,
  `taxonid` VARCHAR(50) NULL COMMENT '动作对象taxon',
  `actions` JSON NULL COMMENT '动作，json',
  `actdate` DATE NULL COMMENT '动作时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = '描述分类动作';


-- -----------------------------------------------------
-- Table `biodata`.`datasources`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`datasources` (
  `id` VARCHAR(50) NOT NULL COMMENT 'UUID',
  `title` VARCHAR(100) NULL COMMENT '数据源标题',
  `info` TEXT NULL COMMENT '描述',
  `versions` VARCHAR(200) NULL COMMENT '版本或日期',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '录入人',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = '数据源';


-- -----------------------------------------------------
-- Table `biodata`.`refs`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`refs` (
  `id` VARCHAR(50) NOT NULL,
  `refstr` VARCHAR(1000) NULL COMMENT '完整题录',
  `author` VARCHAR(100) NULL COMMENT '作者',
  `pyear` VARCHAR(50) NULL COMMENT '发表时间',
  `leftstr` VARCHAR(900) NULL COMMENT '除去作者、年代剩余部分',
  `title` VARCHAR(50) NULL COMMENT '文章标题',
  `ptype` VARCHAR(50) NULL COMMENT '类型',
  `journal` VARCHAR(50) NULL COMMENT '期刊/专著的名字',
  `languages` VARCHAR(50) NULL COMMENT '语言',
  `olang` INT NULL COMMENT '原始语言',
  `keywords` VARCHAR(500) NULL COMMENT '关键字',
  `translator` VARCHAR(50) NULL COMMENT '书的译者',
  `press` VARCHAR(50) NULL COMMENT '出版社',
  `place` VARCHAR(50) NULL COMMENT '出版地',
  `tpage` VARCHAR(50) NULL COMMENT '总页数',
  `tchar` VARCHAR(50) NULL COMMENT '总字数',
  `version` VARCHAR(50) NULL COMMENT '第几版',
  `isbn` VARCHAR(50) NULL COMMENT 'ISBN',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '录入人',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `remark` TEXT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = '文献';


-- -----------------------------------------------------
-- Table `biodata`.`user`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`user` (
  `id` varchar(50) NOT NULL COMMENT 'UUID',
  `user_name` varchar(100) NOT NULL COMMENT '用户的账户名',
  `password` varchar(45) NOT NULL COMMENT '密码，MD5加密',
  `email` varchar(100) NOT NULL COMMENT '注册邮箱',
  `nickname` varchar(45) DEFAULT NULL,
  `phone` varchar(45) DEFAULT NULL COMMENT '手机号',
  `role` varchar(45) DEFAULT NULL COMMENT '角色标识,预留字段，可扩展',
  `adddate` datetime DEFAULT NULL COMMENT '注册/添加时间',
  `avatar` varchar(255) DEFAULT NULL,
  `dtime` datetime DEFAULT NULL,
  `idnum` int(11) DEFAULT NULL,
  `level` int(11) DEFAULT NULL,
  `mark` varchar(255) DEFAULT NULL,
  `mobile` varchar(255) DEFAULT NULL,
  `score` int(11) DEFAULT NULL,
  `status` tinyint(4) DEFAULT NULL,
  `uploadnum` int(11) DEFAULT NULL,
  `resetmark` varchar(255) DEFAULT NULL,
  `resettime` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `name_UNIQUE` (`user_name` ASC))
ENGINE = InnoDB
COMMENT = '用户';


-- -----------------------------------------------------
-- Table `biodata`.`protectstandard`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`protectstandard` (
  `id` VARCHAR(50) NOT NULL,
  `standardname` VARCHAR(100) NULL COMMENT '保护标准名称',
  `standardinfo` VARCHAR(600) NULL COMMENT '标准简介',
  `version` VARCHAR(50) NULL COMMENT '版本',
  `releasedate` VARCHAR(50) NULL COMMENT '发布时间',
  `source` VARCHAR(50) NULL COMMENT '标准来源，IUCN、CITES等',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '录入人',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = '保护区实体';


-- -----------------------------------------------------
-- Table `biodata`.`protection`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`protection` (
  `id` VARCHAR(50) NOT NULL,
  `protlevel` VARCHAR(100) NULL COMMENT '保护级别',
  `proassessment` VARCHAR(1500) NULL COMMENT '保护评估',
  `refjson` JSON NULL COMMENT '相关参考文献的json数组',
  `sourcesid` VARCHAR(50) NULL COMMENT '相关参考文献的json数组',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `protectstandard_id` VARCHAR(50) NOT NULL,
  `taxon_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_protection_protectstandard1_idx` (`protectstandard_id` ASC),
  INDEX `fk_protection_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_protection_protectstandard1`
    FOREIGN KEY (`protectstandard_id`)
    REFERENCES `biodata`.`protectstandard` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_protection_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '保护信息';


-- -----------------------------------------------------
-- Table `biodata`.`traitontology`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`traitontology` (
  `id` INT NOT NULL,
  `enterm` VARCHAR(100) NULL COMMENT '术语 英文',
  `cnterm` VARCHAR(100) NULL COMMENT '术语 中文',
  `definition` TEXT NULL COMMENT '定义',
  `synonymys` JSON NULL COMMENT '同义术语，json对象',
  `sourcesjson` JSON NULL COMMENT '数据源的各种信息\n',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '录入人',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `catalog1` VARCHAR(50) NULL COMMENT '第一层',
  `catalog2` VARCHAR(50) NULL COMMENT '第二层',
  `catalog3` VARCHAR(50) NULL COMMENT '第3层',
  `group` VARCHAR(50) NULL COMMENT '类群',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = '每个术语';


-- -----------------------------------------------------
-- Table `biodata`.`keyitem`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`keyitem` (
  `id` VARCHAR(50) NOT NULL,
  `item` VARCHAR(500) NULL,
  `innerorder` INT NULL COMMENT '同一级检索特征排序',
  `orderid` INT NULL COMMENT '整形表达的id，用于排序',
  `branchid` INT NULL COMMENT '分支id，整型',
  `taxonid` VARCHAR(50) NULL COMMENT '分类到哪个taxon，与taxon表关联',
  `pid` VARCHAR(50) NULL,
  `featureimgjson` VARCHAR(50) NULL COMMENT '特征图片，json',
  `taxkey_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_keyitem_taxkey1_idx` (`taxkey_id` ASC),
  CONSTRAINT `fk_keyitem_taxkey1`
    FOREIGN KEY (`taxkey_id`)
    REFERENCES `biodata`.`taxkey` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '检索表内容';


-- -----------------------------------------------------
-- Table `biodata`.`taxtree`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`taxtree` (
  `id` VARCHAR(50) NOT NULL,
  `treename` VARCHAR(50) NULL COMMENT 'tree 名称',
  `treeinfo` VARCHAR(500) NULL COMMENT 'tree 简介',
  `refsjson` JSON NULL COMMENT '相关文献',
  `sourcejson` JSON NULL COMMENT '相关数据源',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '录入人',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `taxtreecol` VARCHAR(50) NULL,
  `dataset_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_taxtree_dataset1_idx` (`dataset_id` ASC),
  CONSTRAINT `fk_taxtree_dataset1`
    FOREIGN KEY (`dataset_id`)
    REFERENCES `biodata`.`dataset` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biodata`.`taxon_taxon`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`taxon_taxon` (
  `id` VARCHAR(50) NOT NULL COMMENT 'taxon1的 ID',
  `relationship` JSON NOT NULL COMMENT '关系：\n0.与B无关; \n1.A包含B; \n2.A被B包含；\n3.A与B有重合的部分；\n4.A等价于B',
  `sourcesid` VARCHAR(50) NULL COMMENT '数据源的id',
  `refjson` VARCHAR(50) NULL COMMENT '相关参考文献的json数组',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '添加时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步\n',
  `synchtime` DATETIME NULL COMMENT '最后同步时间',
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biodata`.`traitset`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`traitset` (
  `id` VARCHAR(50) NOT NULL,
  `name` VARCHAR(50) NULL,
  `remark` TEXT NULL COMMENT '备注',
  `sourcesid` JSON NULL COMMENT '特征集的来源',
  `status` INT NULL DEFAULT 1 COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '录入人',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL DEFAULT 0 COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biodata`.`traitdescription`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`traitdescription` (
  `id` INT NOT NULL,
  `traitontologyid` INT NULL COMMENT '术语id',
  `propertyid` INT NULL COMMENT '属性id',
  `definition` TEXT NULL COMMENT '定义',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = '术语组合描述表';


-- -----------------------------------------------------
-- Table `biodata`.`commonname`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`commonname` (
  `id` VARCHAR(50) NOT NULL COMMENT 'UUID',
  `commonname` VARCHAR(200) NULL COMMENT '俗名',
  `language` VARCHAR(100) NULL COMMENT '所属语言',
  `refjson` JSON NULL COMMENT '参考文献json',
  `sourcesid` VARCHAR(50) NULL COMMENT '数据源id',
  `status` INT NULL COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL COMMENT '添加人的id,外链user表',
  `inputtime` DATETIME NULL COMMENT '录入时间',
  `synchstatus` INT NULL COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `taxon_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_commonname_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_commonname_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biodata`.`occurrence`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`occurrence` (
  `id` VARCHAR(50) NOT NULL,
  `taxonid` VARCHAR(50) NOT NULL,
  `type` VARCHAR(50) NULL COMMENT '记录类型：如：人工观测、机器探测、标本',
  `location` VARCHAR(200) NULL COMMENT '记录地（全）',
  `country` VARCHAR(200) NULL COMMENT '观测点所在国家',
  `province` VARCHAR(200) NULL COMMENT '观测点所在省/洲',
  `city` VARCHAR(200) NULL COMMENT '观测点所在城市',
  `county` VARCHAR(200) NULL COMMENT '观测点所在县',
  `locality` VARCHAR(200) NULL COMMENT '观测点的小地名',
  `lng` DOUBLE NULL,
  `lat` DOUBLE NULL,
  `sourcesid` VARCHAR(50) NULL,
  `refjson` JSON NULL,
  `status` INT NULL COMMENT '状态（默认1、可用；0、不可用）',
  `inputer` VARCHAR(50) NULL,
  `inputtime` DATETIME NULL,
  `synchstatus` INT NULL COMMENT '同步状态，即是否与服务器进行同步\n0 本地有更新，未与服务器同步\n1 与服务器同步中\n2 完成同步',
  `synchdate` DATETIME NULL COMMENT '最后同步日期',
  `eventdate` VARCHAR(50) NULL COMMENT '观测时间',
  `taxon_id` VARCHAR(50) NOT NULL,
  `taxon_rank_id` INT NOT NULL,
  `taxon_taxaset_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_occurrence_taxon1_idx` (`taxon_id` ASC, `taxon_rank_id` ASC, `taxon_taxaset_id` ASC),
  CONSTRAINT `fk_occurrence_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '观测记录信息';


-- -----------------------------------------------------
-- Table `biodata`.`user_has_team`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`user_has_team` (
  `user_id` VARCHAR(50) NOT NULL,
  `team_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`user_id`, `team_id`),
  INDEX `fk_user_has_team_team1_idx` (`team_id` ASC),
  INDEX `fk_user_has_team_user1_idx` (`user_id` ASC),
  CONSTRAINT `fk_user_has_team_user1`
    FOREIGN KEY (`user_id`)
    REFERENCES `biodata`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_user_has_team_team1`
    FOREIGN KEY (`team_id`)
    REFERENCES `biodata`.`team` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biodata`.`taxon_has_taxtree`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`taxon_has_taxtree` (
  `taxon_id` VARCHAR(50) NOT NULL,
  `taxtree_id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`taxon_id`, `taxtree_id`),
  INDEX `fk_taxon_has_taxtree_taxtree1_idx` (`taxtree_id` ASC),
  INDEX `fk_taxon_has_taxtree_taxon1_idx` (`taxon_id` ASC),
  CONSTRAINT `fk_taxon_has_taxtree_taxon1`
    FOREIGN KEY (`taxon_id`)
    REFERENCES `biodata`.`taxon` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_taxon_has_taxtree_taxtree1`
    FOREIGN KEY (`taxtree_id`)
    REFERENCES `biodata`.`taxtree` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biodata`.`traitset_has_traitontology`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biodata`.`traitset_has_traitontology` (
  `traitset_id` VARCHAR(50) NOT NULL,
  `traitontology_id` INT NOT NULL,
  `p_traitontology_id` VARCHAR(45) NULL,
  `id` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_traitset_has_traitontology_traitontology1_idx` (`traitontology_id` ASC),
  INDEX `fk_traitset_has_traitontology_traitset1_idx` (`traitset_id` ASC),
  CONSTRAINT `fk_traitset_has_traitontology_traitset1`
    FOREIGN KEY (`traitset_id`)
    REFERENCES `biodata`.`traitset` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_traitset_has_traitontology_traitontology1`
    FOREIGN KEY (`traitontology_id`)
    REFERENCES `biodata`.`traitontology` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;